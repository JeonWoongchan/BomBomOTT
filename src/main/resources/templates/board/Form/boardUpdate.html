<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.min.css}"
          href="../../css/bootstrap.min.css" rel="stylesheet">
    <style>
        .container {
            max-width: 560px;
        }

        .horizontal-list {
            display: flex; /* 부모 요소를 플렉스 컨테이너로 설정 */
            flex-direction: row; /* 아이템을 가로로 나열 */
            list-style-type: none; /* 기본 목록 표시 스타일 제거 */
            padding: 0; /* 패딩 제거 */
        }

        .horizontal-list li {
            margin-right: 10px; /* 각 아이템 사이의 간격을 설정 */
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>

<div class="container">
    <div class="py-5 text-center">
        <h2>게시판 수정</h2>
    </div>


    <form action="boardUpdate.html" th:action method="post" enctype="multipart/form-data">
        <input type="hidden" id="filepath" name="filepath" class="form-control" th:value="${board.filepath}">
        <input type="hidden" id="filename" name="filename" class="form-control" th:value="${board.filename}">
        <input type="hidden" id="preFilepath" name="preFilepath" class="form-control" th:value="${board.filepath}">
        <div>
            <label for="title">제목</label>
            <input type="text" id="title" name="title" class="form-control" placeholder="제목" th:value="${board.title}">
        </div>
        <div>
            <label for="content">내용</label>
            <textarea id="content" name="content" class="form-control" th:text="${board.content}" rows="10"></textarea>
        </div>
        <div>
            <label for="file">첨부파일</label>
            <input type="file" id="file" name="file" class="form-control" th:value="${board.filepath}">
            <a id="preFilepath2" th:href="@{${board.filepath}}" th:text="${board.filename}" th:value="${board.filename}"></a>
            <button id="btnDelFile" th:if="${board.filepath != '' && board.filepath != null}" onclick="deleteFile(); return false;">삭제</button>
        </div>

        <hr class="my-4">

        <div class="row">
            <div class="col">
                <button class="w-100 btn btn-primary btn-lg" type="submit">저장</button>
            </div>
            <div class="col">
                <button class="w-100 btn btn-secondary btn-lg"
                        onclick="location.href='boardView.html'"
                        th:onclick="|location.href='@{/board/view/{boardId}(boardId=${board.id})}'|"
                        type="button">취소</button>
            </div>
        </div>
    </form>
</div>

<script>
    function deleteFile() {

        $("#preFilepath2").text("");
        $("#btnDelFile").hide();
        $("#preFilepath").val("");

        return false;
    }
</script>

</body>